<!DOCTYPE html>
<html lang="zxx" class="js">
<head>
	<meta charset="utf-8">
	<meta name="author" content="Rob_GCC">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<!-- Fav Icon  -->
	<link rel="shortcut icon" href="images/favicon.png">
	<!-- Site Title  -->
	<title>Blockjournal</title>
	<!-- Bundle and Base CSS -->
	<link rel="stylesheet" href="assets/css/vendor.bundle.css?ver=150">
	<link rel="stylesheet" href="assets/css/style.css?ver=150">
	<!-- Color Scheme CSS -->
	<link rel="stylesheet" href="assets/css/theme.css?ver=150" id="theming">
    <script src="https://www.moneybutton.com/moneybutton.js"></script>
    <script type="text/javascript" src="https://unpkg.com/bsv@0.21.5/bsv.min.js"></script>
        <script src="assets/js/jquery.bundle.js?ver=150"></script>
<script>
        fetch("https://api.mybitx.com/api/1/tickers").then( response => { console.log(response)})
</script>
</head>
 
<body class="nk-body body-wider bg-light-alt">
	<div class="nk-wrap">
		<div class="header-main">
                <div class="header-container container">
                    <div class="header-wrap">
                        <!-- Logo @s -->
                        <div class="header-logo logo animated" data-animate="fadeInDown" data-delay=".6">
                            <a href="./" class="logo-link">
                                <h2 style="color: rgba(0,0,0,0.6)"> Blockjournal </h2>
                            </a>
                        </div>

                        <!-- Menu Toogle @s -->
                        <div class="header-nav-toggle">
                            <a href="#" class="navbar-toggle" data-menu-toggle="header-menu">
                                <div class="toggle-line">
                                    <span></span>
                                </div>
                            </a>
                        </div>

                        <!-- Menu @s -->
                        <div class="header-navbar animated" data-animate="fadeInDown" data-delay=".75">
                            <nav class="header-menu" id="header-menu">
                                <ul class="menu">
                                    <li class="menu-item"><a class="menu-link nav-link" href="./index.html">Home</a></li>
                                    <li class="menu-item"><a class="menu-link nav-link" href="./articles.html">Articles</a></li>
                                    <li class="menu-item"><a class="menu-link nav-link" href="./upload.html">Upload</a></li>
                                </ul>
                                <ul class="menu-btns">
                                    <li><a href="#" data-toggle="modal" data-target="#login-popup" class="btn btn-md btn-auto btn-grad"><span>BSV</span></a></li>
                                </ul>
                            </nav>
                        </div><!-- .header-navbar @e -->
                    </div>                                                
                </div>            
				</div>
			</div><!-- .header-main @e -->

			<!-- Banner @s -->
		
			<!-- .header-banner @e -->
		</header>
    
        <main class="nk-pages" style="margin-top: -100px">
            <section class="section section-l bg-light">
                <div class="container">
                    <div class="nk-block nk-block-blog">
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="row blogElements">

                                    <div class="col-sm-6">
                                        <div class="blog">
                                           
                                            <div class="blog-text">
                                                <ul class="blog-meta">
                                                    <li><a href="#">12 Mar, 2018</a></li>
                                                    <li><a href="#">Blockchain</a></li>
                                                </ul>
                                                <h4 class="title title-sm"><a href="#">The Intersection with Blockchain.</a></h4>
                                                <p>Blockchain Meets Energy Surplus of electrical energy is sometimes ut perspiciatis unde omnis iste natus...</p>
                                            </div>
                                        </div><!-- .blog -->
                                    </div><!-- .col --> 

                                </div><!-- .row -->
                                <nav class="w-100 d-flex">
                                    <ul class="pagination">
                                        <li><a class="active" href="#">1</a></li>
                                        <li><a href="#">2</a></li>
                                        <li><a href="#">3</a></li>
                                    </ul>
                                </nav>
                            </div><!-- .col -->
                            <div class="col-lg-4 order-lg-first" >
                                <div class="sidebar mr-lg-4 mt-5 mt-lg-0">
                                    <div class="wgs wgs-search">
                                        <form action="#" class="field-inline">
                                            <input type="text" placeholder="Search Keyword" class="input-bordered">
                                            <button class="btn btn-primary btn-icon"><em class="ti ti-search"></em></button>
                                        </form>
                                    </div>
                                    <div class="wgs wgs-category">
                                        <h6 class="wgs-title">Genre</h6>
                                        <div class="wgs-body">
                                            <ul class="wgs-links wgs-links-category">
                                                <li><a href="#">General</a></li>
                                                <li><a href="#">Politics</a></li>
                                                <li><a href="#">Economy</a></li>
                                                <li><a href="#">Sports</a></li>
                                                <li><a href="#">Culture</a></li>
                                                <li><a href="#">Knowledge</a></li>
                                                <li><a href="#">Technology</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="wgs wgs-archive">
                                        <h6 class="wgs-title">Archive</h6>
                                        <div class="wgs-body">
                                            <select name="post-archive" class="select" data-select2-placehold="Select Month">
                                                <option label="placeholder"></option>
                                                <option value="All">All</option>
                                                <option value="January">January</option>
                                                <option value="February">February</option>
                                                <option value="March">March</option>
                                                <option value="April">April</option>
                                                <option value="May">May</option>
                                                <option value="June">June</option>
                                                <option value="July">July</option>
                                                <option value="August">August</option>
                                                <option value="September">September</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div><!-- .row -->
                    </div><!-- .nk-block -->
                </div><!-- .container -->
            </section><!-- .section -->
        </main>
    
		
	</div>
    <div class="main"/>
	<div class="preloader"><span class="spinner spinner-round"></span></div>
	<script>

var query = {
  "v": 3,
  "q": {
    "find": {"out.b1":"Yml0am91cm5hbA=="},
    "limit": 20
  }
}

// Turn the query into base64 encoded string.
// This is required for accessing a public bitdb node
var b64 = btoa(JSON.stringify(query));
var url = "https://genesis.bitdb.network/q/1FnauZ9aUH2Bex6JzdcV4eNX7oLSSEbxtN/" + b64;

inp = ['bitjournal', 'Hey Bitdb!', '5 am in the morning but still coding, greetings from cambridge', 'The Title', 'The abstract']

let hex = 'OP_RETURN';
for(i in inp){
  hex += ' '  + bsv.Script.buildDataOut(inp[i]).toASM().split(" ")[1];
}

// Attach API KEY as header
var header = {
  headers: { key: "1KJPjd3p8khnWZTkjhDYnywLB2yE1w5BmU" }
};

// Make an HTTP request to bitdb.network public endpoint
fetch(url, header).then(function(r) {
  console.log(r.json);
  return r.json()
}).then(function(r) {
    let res = r.u.concat(r.c)
    console.log(r)
  // "r.c" stands for confirmed transactions response array
  // Parse the response and render the results on the screen
  r.c.forEach(function(output, key) {
    console.log(output);
    $(".blogElements").append("<div class='col-sm-6'><div class='blog'><div class='blog-text'><h4 class='title title-sm'><a href='#'>" + output.out[key].s2 + "</a></h4><p>" + output.out[key].s3 +"</p></div></div></div>");
  })
})

</script>
	<!-- JavaScript -->
	<script src="assets/js/scripts.js?ver=150"></script>
	<script src="assets/js/charts.js"></script>
</body>
</html>
